(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aae28660"],{"0227":function(t,e,n){},"057f":function(t,e,n){var r=n("fc6a"),o=n("241c").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?s(t):o(r(t))}},"0b42":function(t,e,n){var r=n("861d"),o=n("e8b5"),i=n("b622"),a=i("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)?r(e)&&(e=e[a],null===e&&(e=void 0)):e=void 0),void 0===e?Array:e}},"1dde":function(t,e,n){var r=n("d039"),o=n("b622"),i=n("2d00"),a=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[],n=e.constructor={};return n[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"21b1":function(t,e,n){},"2e66":function(t,e,n){"use strict";n("21b1")},"2f95":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"goods",staticClass:"goods"},[n("nav-bar",{ref:"navBarHidden",staticClass:"nav-bar-hidden",attrs:{name:t.detail.name,currentComponent:t.currentComponent},on:{handleChangeComponent:t.handleChangeComponent}}),n("nav-bar",{ref:"navBar",attrs:{name:t.detail.name,currentComponent:t.currentComponent},on:{handleChangeComponent:t.handleChangeComponent}}),t.$store.state.token?t._e():n("el-alert",{attrs:{center:"",type:"info"},scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{staticClass:"title"},[n("span",[t._v("为方便您购买，请提前登录，")]),n("router-link",{attrs:{to:"/user/login"}},[t._v("立即登录")])],1)]},proxy:!0}],null,!1,1475612954)}),n(t.currentComponent,{tag:"component",attrs:{detail:t.detail}})],1)},o=[],i=n("1da1"),a=(n("96cf"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"buy"},[n("div",{staticClass:"container"},[n("div",{staticClass:"carousel"},[n("el-carousel",{attrs:{height:"560px",interval:5e3}},t._l(t.detail.imgArr,(function(t){return n("el-carousel-item",{key:t},[n("el-image",{staticStyle:{height:"100%"},attrs:{src:t,fit:""}})],1)})),1)],1),n("div",{staticClass:"info"},[n("div",{staticClass:"name"},[t._v(t._s(t.detail.name))]),n("div",{staticClass:"parmas"},[t._v("星幕锐影，多分区背光系统/高亮度原色屏/MEMC运动补偿/杜比视界/金属全面屏/远场语音")]),n("div",{staticClass:"store"},[t._v("小米自营")]),n("div",{staticClass:"price"},[t._v(t._s(t.currentPrice)+"元")]),n("div",{staticClass:"version"},[n("div",{staticClass:"title"},[t._v("选择版本")]),n("div",{staticClass:"list"},t._l(t.detail.versions,(function(e){return n("label",{key:e.id,class:["item",t.currentVersion===e.name?"active":""],attrs:{for:e.name}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentVersion,expression:"currentVersion"}],attrs:{type:"radio",name:"version",id:e.name},domProps:{value:e.name,checked:t._q(t.currentVersion,e.name)},on:{change:function(n){t.currentVersion=e.name}}}),n("span",[t._v(t._s(e.name))])])})),0)]),n("div",{staticClass:"color"},[n("div",{staticClass:"title"},[t._v("选择颜色")]),n("div",{staticClass:"list"},t._l(t.detail.colors,(function(e){return n("label",{key:e.id,class:["item",t.currentColor===e?"active":""],attrs:{for:e}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentColor,expression:"currentColor"}],attrs:{type:"radio",name:"color",id:e},domProps:{value:e,checked:t._q(t.currentColor,e)},on:{change:function(n){t.currentColor=e}}}),n("span",[t._v(t._s(e))])])})),0)]),n("div",{staticClass:"summary"},[n("div",{staticClass:"desc"},[n("div",[t._v(t._s(t.detail.name)+" "+t._s(t.currentColor)+" "+t._s(t.currentVersion))]),n("div",[t._v(t._s(t.currentPrice)+"元")])]),n("div",{staticClass:"total"},[t._v("总计： "+t._s(t.currentPrice)+"元")])]),n("div",{staticClass:"cart",on:{click:t.handleAddCart}},[t._v("加入购物车")])])])])}),s=[];n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("fb6a"),n("b0c0"),n("a630");function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){if(t){if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function l(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}}}var f={props:{detail:{type:Object,default:function(){return{}}}},data:function(){return{currentVersion:"",currentColor:""}},methods:{handleAddCart:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,r,o,i,a,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$store.state.info.id,r=t.currentPrice,o=t.detail.id,i=t.currentVersion,a=t.currentColor,e.next=7,t.$http.post("/cart/add",{user_id:n,unit_price:r,goods_id:o,version:i,color:a});case 7:if(s=e.sent,c=s.status,201===c){e.next=17;break}return window.localStorage.removeItem("info"),window.localStorage.removeItem("token"),t.$store.dispatch("updateUserInfo",{}),t.$store.dispatch("updateToken",""),t.$message.error("身份信息已过期，请重新登录"),t.$router.push("/user/login"),e.abrupt("return");case 17:t.$message.success("添加成功"),t.$store.dispatch("getCarts");case 20:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.detail.versions&&(this.currentVersion=this.detail.versions[0].name,this.currentColor=this.detail.colors[0])},computed:{currentPrice:function(){var t,e=this.detail.versions||[],n=0,r=l(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o.name===this.currentVersion)return n=o.price}}catch(i){r.e(i)}finally{r.f()}return n}},watch:{detail:function(t){this.currentVersion=t.versions[0].name,this.currentColor=t.colors[0]}}},d=f,v=(n("a2f2"),n("2877")),p=Object(v["a"])(d,a,s,!1,null,"2749c7c0",null),h=p.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"detail"},[n("div",{staticClass:"container"},[n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.detail.detail)}})])])},b=[],y={props:{detail:{type:Object,default:'<p style="text-align: center">无</p>'}}},g=y,C=(n("2e66"),Object(v["a"])(g,m,b,!1,null,"214a6281",null)),w=C.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav-bar"},[n("div",{staticClass:"container"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[t._v(t._s(t.name))]),n("div",{staticClass:"nav"},["buy"===t.currentComponent?n("div",{staticClass:"detail",on:{click:function(e){return t.handleChangeComponent("detail")}}},[t._v("概述页")]):n("div",{staticClass:"buy",on:{click:function(e){return t.handleChangeComponent("buy")}}},[t._v("立即购买")])])])])])},S=[],x={props:{currentComponent:{type:String,default:"buy"},name:{type:String,default:""}},methods:{handleChangeComponent:function(t){this.$emit("handleChangeComponent",t)}}},O=x,$=(n("fc53"),Object(v["a"])(O,_,S,!1,null,"022a8efe",null)),j=$.exports,A={components:{NavBar:j,Buy:h,Detail:w},data:function(){return{currentComponent:"buy",id:0,detail:{}}},created:function(){this.id=this.$route.params.id,this.getGoodsDetail()},mounted:function(){this.handleNavBarScroll()},methods:{handleNavBarScroll:function(){var t=this.$refs.navBar,e=this.$refs.navBarHidden,n=this.$refs.goods.offsetTop+t.$el.offsetHeight;window.addEventListener("scroll",(function(){var t=-1===e.$el.classList.value.indexOf("nav-bar-active");window.scrollY>=n&&t?(e.$el.classList.add("nav-bar-active"),e.$el.style.left=-window.scrollX+"px"):window.scrollY<n&&!t&&e.$el.classList.remove("nav-bar-active"),t||(e.$el.style.left=-window.scrollX+"px")}))},handleChangeComponent:function(t){this.currentComponent=t},getGoodsDetail:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/goods/".concat(t.id,"/detail"));case 2:n=e.sent,r=n.data,t.detail=r;case 5:case"end":return e.stop()}}),e)})))()}}},k=A,P=(n("b672"),Object(v["a"])(k,r,o,!1,null,null,null));e["default"]=P.exports},"428f":function(t,e,n){var r=n("da84");t.exports=r},"4df4":function(t,e,n){"use strict";var r=n("0366"),o=n("7b0b"),i=n("9bdd"),a=n("e95a"),s=n("50c4"),c=n("8418"),u=n("35a1");t.exports=function(t){var e,n,l,f,d,v,p=o(t),h="function"==typeof this?this:Array,m=arguments.length,b=m>1?arguments[1]:void 0,y=void 0!==b,g=u(p),C=0;if(y&&(b=r(b,m>2?arguments[2]:void 0,2)),void 0==g||h==Array&&a(g))for(e=s(p.length),n=new h(e);e>C;C++)v=y?b(p[C],C):p[C],c(n,C,v);else for(f=g.call(p),d=f.next,n=new h;!(l=d.call(f)).done;C++)v=y?i(f,b,[l.value,C],!0):l.value,c(n,C,v);return n.length=C,n}},"4ffa":function(t,e,n){},"65f0":function(t,e,n){var r=n("0b42");t.exports=function(t,e){return new(r(t))(0===e?0:e)}},"746f":function(t,e,n){var r=n("428f"),o=n("5135"),i=n("e538"),a=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},8418:function(t,e,n){"use strict";var r=n("a04b"),o=n("9bf2"),i=n("5c6c");t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},"9bdd":function(t,e,n){var r=n("825a"),o=n("2a62");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){throw o(t),a}}},a2f2:function(t,e,n){"use strict";n("0227")},a4d3:function(t,e,n){"use strict";var r=n("23e7"),o=n("da84"),i=n("d066"),a=n("c430"),s=n("83ab"),c=n("4930"),u=n("d039"),l=n("5135"),f=n("e8b5"),d=n("861d"),v=n("d9b5"),p=n("825a"),h=n("7b0b"),m=n("fc6a"),b=n("a04b"),y=n("577e"),g=n("5c6c"),C=n("7c73"),w=n("df75"),_=n("241c"),S=n("057f"),x=n("7418"),O=n("06cf"),$=n("9bf2"),j=n("d1e7"),A=n("9112"),k=n("6eeb"),P=n("5692"),E=n("f772"),V=n("d012"),N=n("90e3"),B=n("b622"),I=n("e538"),T=n("746f"),L=n("d44e"),M=n("69f3"),R=n("b727").forEach,D=E("hidden"),H="Symbol",J="prototype",F=B("toPrimitive"),q=M.set,G=M.getterFor(H),U=Object[J],X=o.Symbol,Y=i("JSON","stringify"),Q=O.f,W=$.f,z=S.f,K=j.f,Z=P("symbols"),tt=P("op-symbols"),et=P("string-to-symbol-registry"),nt=P("symbol-to-string-registry"),rt=P("wks"),ot=o.QObject,it=!ot||!ot[J]||!ot[J].findChild,at=s&&u((function(){return 7!=C(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Q(U,e);r&&delete U[e],W(t,e,n),r&&t!==U&&W(U,e,r)}:W,st=function(t,e){var n=Z[t]=C(X[J]);return q(n,{type:H,tag:t,description:e}),s||(n.description=e),n},ct=function(t,e,n){t===U&&ct(tt,e,n),p(t);var r=b(e);return p(n),l(Z,r)?(n.enumerable?(l(t,D)&&t[D][r]&&(t[D][r]=!1),n=C(n,{enumerable:g(0,!1)})):(l(t,D)||W(t,D,g(1,{})),t[D][r]=!0),at(t,r,n)):W(t,r,n)},ut=function(t,e){p(t);var n=m(e),r=w(n).concat(pt(n));return R(r,(function(e){s&&!ft.call(n,e)||ct(t,e,n[e])})),t},lt=function(t,e){return void 0===e?C(t):ut(C(t),e)},ft=function(t){var e=b(t),n=K.call(this,e);return!(this===U&&l(Z,e)&&!l(tt,e))&&(!(n||!l(this,e)||!l(Z,e)||l(this,D)&&this[D][e])||n)},dt=function(t,e){var n=m(t),r=b(e);if(n!==U||!l(Z,r)||l(tt,r)){var o=Q(n,r);return!o||!l(Z,r)||l(n,D)&&n[D][r]||(o.enumerable=!0),o}},vt=function(t){var e=z(m(t)),n=[];return R(e,(function(t){l(Z,t)||l(V,t)||n.push(t)})),n},pt=function(t){var e=t===U,n=z(e?tt:m(t)),r=[];return R(n,(function(t){!l(Z,t)||e&&!l(U,t)||r.push(Z[t])})),r};if(c||(X=function(){if(this instanceof X)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,e=N(t),n=function(t){this===U&&n.call(tt,t),l(this,D)&&l(this[D],e)&&(this[D][e]=!1),at(this,e,g(1,t))};return s&&it&&at(U,e,{configurable:!0,set:n}),st(e,t)},k(X[J],"toString",(function(){return G(this).tag})),k(X,"withoutSetter",(function(t){return st(N(t),t)})),j.f=ft,$.f=ct,O.f=dt,_.f=S.f=vt,x.f=pt,I.f=function(t){return st(B(t),t)},s&&(W(X[J],"description",{configurable:!0,get:function(){return G(this).description}}),a||k(U,"propertyIsEnumerable",ft,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:X}),R(w(rt),(function(t){T(t)})),r({target:H,stat:!0,forced:!c},{for:function(t){var e=y(t);if(l(et,e))return et[e];var n=X(e);return et[e]=n,nt[n]=e,n},keyFor:function(t){if(!v(t))throw TypeError(t+" is not a symbol");if(l(nt,t))return nt[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:lt,defineProperty:ct,defineProperties:ut,getOwnPropertyDescriptor:dt}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:vt,getOwnPropertySymbols:pt}),r({target:"Object",stat:!0,forced:u((function(){x.f(1)}))},{getOwnPropertySymbols:function(t){return x.f(h(t))}}),Y){var ht=!c||u((function(){var t=X();return"[null]"!=Y([t])||"{}"!=Y({a:t})||"{}"!=Y(Object(t))}));r({target:"JSON",stat:!0,forced:ht},{stringify:function(t,e,n){var r,o=[t],i=1;while(arguments.length>i)o.push(arguments[i++]);if(r=e,(d(e)||void 0!==t)&&!v(t))return f(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!v(e))return e}),o[1]=e,Y.apply(null,o)}})}X[J][F]||A(X[J],F,X[J].valueOf),L(X,H),V[D]=!0},a630:function(t,e,n){var r=n("23e7"),o=n("4df4"),i=n("1c7e"),a=!i((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:a},{from:o})},b0c0:function(t,e,n){var r=n("83ab"),o=n("9bf2").f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/,c="name";r&&!(c in i)&&o(i,c,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},b672:function(t,e,n){"use strict";n("4ffa")},b727:function(t,e,n){var r=n("0366"),o=n("44ad"),i=n("7b0b"),a=n("50c4"),s=n("65f0"),c=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,l=4==t,f=6==t,d=7==t,v=5==t||f;return function(p,h,m,b){for(var y,g,C=i(p),w=o(C),_=r(h,m,3),S=a(w.length),x=0,O=b||s,$=e?O(p,S):n||d?O(p,0):void 0;S>x;x++)if((v||x in w)&&(y=w[x],g=_(y,x,C),t))if(e)$[x]=g;else if(g)switch(t){case 3:return!0;case 5:return y;case 6:return x;case 2:c.call($,y)}else switch(t){case 4:return!1;case 7:c.call($,y)}return f?-1:u||l?l:$}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},d28b:function(t,e,n){var r=n("746f");r("iterator")},e01a:function(t,e,n){"use strict";var r=n("23e7"),o=n("83ab"),i=n("da84"),a=n("5135"),s=n("861d"),c=n("9bf2").f,u=n("e893"),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new l(t):void 0===t?l():l(t);return""===t&&(f[e]=!0),e};u(d,l);var v=d.prototype=l.prototype;v.constructor=d;var p=v.toString,h="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;c(v,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(a(f,t))return"";var n=h?e.slice(7,-1):e.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},e538:function(t,e,n){var r=n("b622");e.f=r},e8b5:function(t,e,n){var r=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},f02f:function(t,e,n){},fb6a:function(t,e,n){"use strict";var r=n("23e7"),o=n("861d"),i=n("e8b5"),a=n("23cb"),s=n("50c4"),c=n("fc6a"),u=n("8418"),l=n("b622"),f=n("1dde"),d=f("slice"),v=l("species"),p=[].slice,h=Math.max;r({target:"Array",proto:!0,forced:!d},{slice:function(t,e){var n,r,l,f=c(this),d=s(f.length),m=a(t,d),b=a(void 0===e?d:e,d);if(i(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?o(n)&&(n=n[v],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return p.call(f,m,b);for(r=new(void 0===n?Array:n)(h(b-m,0)),l=0;m<b;m++,l++)m in f&&u(r,l,f[m]);return r.length=l,r}})},fc53:function(t,e,n){"use strict";n("f02f")}}]);
//# sourceMappingURL=chunk-aae28660.96a8f615.js.map