(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-167de37a"],{3073:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("el-form",[n("el-form-item",[n("custom-input",{attrs:{warning_msg:"请输入帐号"},model:{value:t.info.name,callback:function(e){t.$set(t.info,"name",e)},expression:"info.name"}},[t._v("邮箱/手机号码/小米ID")])],1),n("el-form-item",[n("custom-input",{attrs:{type:"password",warning_msg:"请输入登录密码"},model:{value:t.info.password,callback:function(e){t.$set(t.info,"password",e)},expression:"info.password"}},[t._v("密码")])],1),n("el-form-item",[n("div",{staticClass:"login_btn"},[n("button",{attrs:{type:"button",disabled:t.is_disabled},on:{click:t.handleClick}},[t._v("登录")])])])],1)],1)},s=[],r=n("1da1"),i=(n("96cf"),n("b0c0"),n("498a"),n("c10c")),o={data:function(){return{info:{name:"",password:""}}},methods:{handleClick:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("/users/login",t.info);case 2:if(n=e.sent,a=n.data,s=n.status,200===s){e.next=7;break}return e.abrupt("return",t.$message.error(a));case 7:if(r=a.token,t.$store.dispatch("updateUserInfo",a),t.$store.dispatch("updateToken",r),t.$message.success("登录成功，欢迎".concat(a.name,"~")),"/user/register"!==t.$route.meta.formPath){e.next=13;break}return e.abrupt("return",t.$router.push("/"));case 13:t.$router.go(-1);case 14:case"end":return e.stop()}}),e)})))()}},computed:{is_disabled:function(){var t=!0;return this.info.name.trim()&&this.info.password.trim()&&(t=!1),t}},components:{CustomInput:i["a"]}},c=o,u=(n("f3f0"),n("2877")),l=Object(u["a"])(c,a,s,!1,null,"08a270de",null);e["default"]=l.exports},"40bb":function(t,e,n){"use strict";n("98de")},"498a":function(t,e,n){"use strict";var a=n("23e7"),s=n("58a8").trim,r=n("c8d2");a({target:"String",proto:!0,forced:r("trim")},{trim:function(){return s(this)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var a=n("1d80"),s=n("577e"),r=n("5899"),i="["+r+"]",o=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),u=function(t){return function(e){var n=s(a(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(c,"")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},"677e":function(t,e,n){},"98de":function(t,e,n){},b0c0:function(t,e,n){var a=n("83ab"),s=n("9bf2").f,r=Function.prototype,i=r.toString,o=/^\s*function ([^ (]*)/,c="name";a&&!(c in r)&&s(r,c,{configurable:!0,get:function(){try{return i.call(this).match(o)[1]}catch(t){return""}}})},c10c:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{class:{wrapper_warning:t.is_warning,wrapper:!0}},[n("label",{attrs:{id:"input"}},[n("div",{ref:"desc",staticClass:"desc"},[t._t("default")],2),n("input",{attrs:{type:t.is_show?"text":t.type,label:"input"},domProps:{value:t.value},on:{focus:t.handleFocus,blur:t.handleBlur,input:t.handleInput}})]),"password"===t.type?n("div",{staticClass:"show_pass",on:{click:t.handleClick}},[t.is_show?n("div",[n("svg",{staticClass:"mi-password-field__icon",attrs:{viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"}},[n("path",{attrs:{d:"M10 3c4.003 0 7.53 2.102 9.593 5.291a2.53 2.53 0 010 2.75c-2.063 3.19-5.59 5.292-9.593 5.292s-7.53-2.101-9.593-5.29a2.53 2.53 0 010-2.752C2.47 5.101 5.997 3 10 3zm-.012 2.333a4.337 4.337 0 00-4.34 4.334A4.337 4.337 0 009.988 14c2.397 0 4.34-1.94 4.34-4.333a4.337 4.337 0 00-4.34-4.334zm0 1.334a3.002 3.002 0 013.004 3c0 1.657-1.345 3-3.004 3a3.002 3.002 0 01-3.005-3c0-1.657 1.345-3 3.005-3z","fill-rule":"evenodd"}})])]):n("div",[n("svg",{staticClass:"mi-password-field__icon",attrs:{viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"}},[n("path",{attrs:{d:"M19.78 7.738a.964.964 0 00-1.488-1.227 10.567 10.567 0 01-2.159 1.98 10.487 10.487 0 01-5.958 1.848 10.514 10.514 0 01-2.826-.381 10.394 10.394 0 01-1.977-.776 10.612 10.612 0 01-3.646-3.095.964.964 0 00-1.547 1.15c.487.655 1.037 1.26 1.642 1.808a.955.955 0 00-.084.17l-1.01 2.692a.964.964 0 101.806.677l.868-2.32a12.316 12.316 0 002.632 1.298l-.528 2.696a.964.964 0 101.893.371l.504-2.569c1.358.25 2.747.275 4.113.072l.44 2.417a.964.964 0 101.898-.346l-.455-2.502a12.37 12.37 0 002.381-1.029l.993 2.333a.964.964 0 001.775-.756l-1.139-2.673a12.537 12.537 0 001.871-1.838z"}})])])]):t._e()]),t.is_warning?n("div",{staticClass:"warning"},[t._v(t._s(t.warning_msg))]):t._e()])},s=[],r={props:{type:{type:String,default:"text"},warning_msg:{type:String,default:""}},data:function(){return{value:"",is_show:!1,is_warning:!1}},methods:{handleFocus:function(){this.is_warning=!1;var t=this.$refs.desc;t.style.top="25px",t.style.fontSize="12px",t.style.transform="translateY(0px)"},handleBlur:function(t){if(""===this.value){var e=this.$refs.desc;e.style.fontSize="17px",e.style.transform="translateY(10px)",this.is_warning=!0}this.$emit("blur",t.target.value)},handleInput:function(t){var e=t.target.value;this.value=e,this.$emit("input",e)},handleClick:function(){this.is_show=!this.is_show},openWarning:function(){this.is_warning=!0},closeWarning:function(){this.is_warning=!1}}},i=r,o=(n("40bb"),n("2877")),c=Object(o["a"])(i,a,s,!1,null,"7bfbbc31",null);e["a"]=c.exports},c8d2:function(t,e,n){var a=n("d039"),s=n("5899"),r="​᠎";t.exports=function(t){return a((function(){return!!s[t]()||r[t]()!=r||s[t].name!==t}))}},f3f0:function(t,e,n){"use strict";n("677e")}}]);
//# sourceMappingURL=chunk-167de37a.9de461f7.js.map